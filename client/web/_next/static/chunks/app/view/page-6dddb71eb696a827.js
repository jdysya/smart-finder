(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[982],{3294:(e,t,a)=>{Promise.resolve().then(a.bind(a,59383))},59383:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>w});var s=a(93815),r=a(20973),n=a(75007),i=a(25054),l=a(89825),c=a(31955),o=a(46413),d=a(60412),u=a(73292),h=a(14677),m=a.n(h);let p=e=>{let t=e.split(".").pop();switch(t){case"js":return"javascript";case"ts":return"typescript";case"py":return"python";case"go":return"go";case"java":return"java";case"html":return"html";case"css":return"css";default:return t||"text"}},x=e=>{let t={};if(!e)return t;let a=e.substring(1),s=a.match(/^t=([\w\.]+)$/);if(s)return t.time=s[1],t;let r=a.match(/^page=(\d+)$/);if(r)return t.page=parseInt(r[1],10),t;let n=a.match(/^L(\d+)(?:-L(\d+))?$/);return n&&(t.startLine=parseInt(n[1],10),t.endLine=n[2]?parseInt(n[2],10):t.startLine),t},f=e=>{let{data:t}=e;return 0===Object.keys(t).length?null:(0,s.jsxs)("div",{className:"mb-6 p-4 border rounded-lg bg-gray-50 dark:bg-gray-800 not-prose",children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-2",children:"Metadata"}),(0,s.jsx)("dl",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-2",children:Object.entries(t).map(e=>{let[t,a]=e;return(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:t}),(0,s.jsx)("dd",{className:"mt-1 text-base",children:Array.isArray(a)?a.map((e,t)=>(0,s.jsx)("span",{className:"inline-block bg-gray-200 dark:bg-gray-700 rounded-full px-3 py-1 text-sm font-semibold mr-2 mb-2",children:String(e)},t)):String(a)})]},t)})})]})};function g(){let e=(0,r.useSearchParams)(),{theme:t}=(0,o.D)(),a=e.get("hash"),[h,g]=(0,n.useState)(""),[j,w]=(0,n.useState)(""),[b,y]=(0,n.useState)({}),[k,v]=(0,n.useState)(""),[N,S]=(0,n.useState)("unknown"),[L,P]=(0,n.useState)(""),[A,C]=(0,n.useState)({}),[D,E]=(0,n.useState)(!0),[_,F]=(0,n.useState)(null);if((0,n.useEffect)(()=>{if(C(x(window.location.hash)),!a){F("No hash provided in the URL."),E(!1);return}let e="/api/md5?hash=".concat(a);g(e),(async()=>{try{let t=await fetch(e);if(!t.ok)throw Error("HTTP error! status: ".concat(t.status));let a=t.headers.get("Content-Disposition");if(a&&a.includes("filename=")){let e=/filename="([^"]+)"/.exec(a);e&&e[1]&&P(e[1])}let s=t.headers.get("Content-Type")||"";if(s.startsWith("image/"))S("image");else if(s.startsWith("video/"))S("video");else if("application/pdf"===s)S("pdf");else if(s.includes("text/markdown")){S("markdown");let e=await t.text(),{data:a,content:s}=m()(e);y(a),v(s)}else if(s.startsWith("text/")){S("code");let e=await t.text();w(e)}else{S("unknown");try{let e=await t.text();w(e)}catch(e){w("Cannot display binary content.")}}}catch(e){F(e.message)}finally{E(!1)}})()},[a]),D)return(0,s.jsx)("div",{children:"Loading..."});if(_)return(0,s.jsxs)("div",{children:["Error: ",_]});let O=()=>{let{startLine:e,endLine:a}=A,r=!!("code"===N&&e&&a);switch(N){case"image":return(0,s.jsx)("img",{src:h,alt:L,className:"max-w-full h-auto mx-auto"});case"video":return(0,s.jsx)("video",{src:"".concat(h).concat(window.location.hash),controls:!0,className:"max-w-full mx-auto"});case"pdf":return(0,s.jsx)("object",{data:"".concat(h).concat(window.location.hash),type:"application/pdf",width:"100%",height:"1000px",children:(0,s.jsxs)("p",{children:["This browser does not support PDFs. Please download the PDF to view it:"," ",(0,s.jsx)("a",{href:h,children:"Download PDF"})]})});case"markdown":return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(f,{data:b}),(0,s.jsx)(i.oz,{remarkPlugins:[l.A],children:k})]});case"code":return(0,s.jsx)(c.A,{language:p(L),style:"dark"===t?d.A:u.A,showLineNumbers:!0,wrapLines:r,lineProps:t=>r&&t>=e&&t<=a?{style:{display:"block",backgroundColor:"rgba(255, 255, 255, 0.1)"}}:{},children:j});default:return(0,s.jsx)("pre",{children:j})}};return(0,s.jsx)("div",{className:"container mx-auto p-4",children:"markdown"===N?(0,s.jsx)("article",{className:"prose dark:prose-invert max-w-none",children:O()}):O()})}function j(){return(0,s.jsx)("div",{className:"container mx-auto p-4",children:"Loading..."})}function w(){return(0,s.jsx)(n.Suspense,{fallback:(0,s.jsx)(j,{}),children:(0,s.jsx)(g,{})})}},68591:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[459,86,719,892,358],()=>t(3294)),_N_E=e.O()}]);